<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:html5="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <h:body>

        <ui:composition>

            <div class="breadcrumbs">
                <div class="breadcrumbs-inner">
                    <div class="row m-0">
                        <div class="col-sm-4">
                            <div class="page-header float-left">
                                <div class="page-title">
                                    <h1>${panel}</h1>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-8">
                            <div class="page-header float-right">
                                <div class="page-title">
                                    <ol class="breadcrumb text-right">
                                        <li><a href="../privatepage.xhtml">Home session</a></li>
                                        <li class="active"><a href="#">${panel}</a></li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="content">
                <!-- Animated -->
                <div class="animated fadeIn">
                    <div class="row d-flex justify-content-center">
                        <div class="col-lg-7">
                            <div class="card">
                                <div class="card-header text-center btn bg-blue btn-primary btn-block" style="padding-top: 20px">
                                    <strong class="card-title " style="font-size: 20px">Asignar plan de entrenamiento</strong>
                                </div>
                                <div class="card-body contentplan">
                                    <!-- Credit Card -->
                                    <div id="pay-invoice">
                                        <div class="card-body " >

                                            <h:form class=" col-md-12 form-group" id="formEjercicios">
                                                
                                                <div class="form-group text-center">

                                                    <p:messages id="mensaje" autoUpdate="false" severity="info, fatal" showSummary="true" showDetail="true"/>  

                                                </div>

                                                <h:panelGrid columns="3" id="pgDatos">
                                                    
                                                    <div class="form-group">
                                                        <label for="cc-payment" class="control-label mb-1" style="font-size: 20px; font-family: fantasy; color: #8e8e8e; "><i class="fa fa-male" style="color: #8e8e8e;"/> Entrenador</label>
                                                        <h:panelGrid columns="2">
                                                            <h:inputText required="true" class="form-control" readonly="true" id="txtIdEntrenador" value="#{PlanDeEntrenamientoController.stringEntrenador()}"/>
                                                            <button type="button" style="margin-left: 50px;" class="btn btn-primary mb-1" data-toggle="modal" data-target="#largeModal2">Seleccionar</button>

                                                        </h:panelGrid>
                                                        <p:message for="txtIdEntrenador"/>
                                                    </div>
                                                    
                                                    <div class="form-group">
                                                        <label for="cc-payment" class="control-label mb-1" style="font-size: 20px; font-family: fantasy; color: #8e8e8e; "><i class="fa fa-male" style="color: #8e8e8e;"/> Deportista</label>
                                                        <h:panelGrid columns="2">
                                                            <h:inputText required="true" class="form-control" readonly="true" id="txtIdDeportista" value="#{PlanDeEntrenamientoController.stringDeportista()}"/>
                                                            <button type="button" style="margin-left: 50px;" class="btn btn-primary mb-1" data-toggle="modal" data-target="#largeModal">Seleccionar</button>
                                                        </h:panelGrid>
                                                        <p:message for="txtIdDeportista"/>
                                                    </div>
                                                    
                                                    <div class="form-group">
                                                        <label for="cc-payment" class="control-label mb-1" style="font-size: 20px; font-family: fantasy; color: #8e8e8e; "><i class="fa fa-trophy" style="color: #8e8e8e;"/> Nivel</label>                  
                                                        <h:selectOneMenu class="form-control" required="true" id="txtidNivel" value="#{PlanDeEntrenamientoController.selected.idNivel.idNivel}">
                                                            <f:selectItem  itemLabel="---" itemValue="#{null}" noSelectionOption="true" />
                                                            <f:selectItems value="#{PlanDeEntrenamientoController.niveles}" var="n" itemLabel="#{n.nombreNivel}" itemValue="#{n.idNivel}" />
                                                        </h:selectOneMenu>
                                                        <p:message for="txtidNivel"/>
                                                    </div> 
                                                    
                                                    <div class="form-group">
                                                        <label for="cc-payment" class="control-label mb-1" style="font-size: 20px; font-family: fantasy; color: #8e8e8e; "><i class="fa fa-clock-o" style="color: #8e8e8e;"/> Fecha de inicio</label> 
                                                        <p:calendar html5:type="date" id="txtFecha_Inicio" value="#{PlanDeEntrenamientoController.selected.fechaInicio}" required="true" requiredMessage="required" html5:placeholder="día/mes/año">
                                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                        </p:calendar>
                                                        <p:message for="txtFecha_Inicio"/>
                                                    </div>

                                                    <div class="form-group">
                                                        <label for="cc-payment" class="control-label mb-1" style="font-size: 20px; font-family: fantasy; color: #8e8e8e; "><i class="fa fa-clock-o" style="color: #8e8e8e;"/> Fecha final</label> 
                                                        <p:calendar  id="txtFecha_Final" value="#{PlanDeEntrenamientoController.selected.fechaFinal}" required="true" requiredMessage="required" html5:placeholder="día/mes/año">
                                                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                        </p:calendar>         
                                                        <p:message for="txtFecha_Final"/>
                                                    </div>

                                                    <div class="form-group">
                                                        <label for="cc-payment" class="control-label mb-1" style="font-size: 20px; font-family: fantasy; color: #8e8e8e; "><i class="fa fa-money" style="color: #8e8e8e;"/> Comprobante de pago</label> 
                                                        <h:selectOneMenu style="margin-right:   10px;" class="form-control" id="txtComprobante_De_Pago" value="#{PlanDeEntrenamientoController.selected.comprobanteDePago}" required="true" requiredMessage="Campo requerido">
                                                            <f:selectItem itemLabel="---" itemValue="#{null}" noSelectionOption="true" />
                                                            <f:selectItem itemValue="Realizado" itemLabel="Realizado"/>
                                                            <f:selectItem itemValue="No_Realizado" itemLabel="No_Realizado"/>   
                                                        </h:selectOneMenu>
                                                        <p:message for="txtComprobante_De_Pago"/>
                                                    </div>

                                                    <div class="form-group">
                                                        <label for="cc-payment" class="control-label mb-1" style="font-size: 20px; font-family: fantasy; color: #8e8e8e; "><i class="fa fa-retweet" style="color: #8e8e8e;"/> Estado</label>  
                                                        <h:selectOneMenu class="form-control" id="txtEstado" value="#{PlanDeEntrenamientoController.selected.estado}" required="true" requiredMessage="required">
                                                            <f:selectItem itemLabel="---" itemValue="#{null}" noSelectionOption="true" />
                                                            <f:selectItem itemValue="Activo" itemLabel="Activo"/>
                                                            <f:selectItem itemValue="Inactivo" itemLabel="Inactivo"/>   
                                                        </h:selectOneMenu>
                                                        <p:message for="txtEstado"/>
                                                    </div>

                                                    <div class="form-group">
                                                        <label for="cc-payment" class="control-label mb-1" style="font-size: 20px; font-family: fantasy; color: #8e8e8e; "><i class="fa fa-gamepad" style="color: #8e8e8e;"/> Ejercicio 1</label> 
                                                        <h:selectOneMenu class="form-control" required="true" id="txtIdEjercicio_1" value="#{PlanDeEntrenamientoController.selected.idEjercicio1.idEjercicios}">
                                                            <f:selectItem itemLabel="---" itemValue="#{null}" noSelectionOption="true" />
                                                            <f:selectItems value="#{PlanDeEntrenamientoController.ejercicios}" var="e" itemLabel="#{e.nombreEjercicio}" itemValue="#{e.idEjercicios}" />
                                                        </h:selectOneMenu>
                                                        <p:message for="txtIdEjercicio_1"/>
                                                    </div>

                                                    <div class="form-group">
                                                        <label for="cc-payment" class="control-label mb-1" style="font-size: 20px; font-family: fantasy; color: #8e8e8e; "><i class="fa fa-gamepad" style="color: #8e8e8e;"/> Ejercicio 2</label> 
                                                        <h:selectOneMenu class="form-control" required="true" id="txtIdEjercicio_2" value="#{PlanDeEntrenamientoController.selected.idEjercicio2.idEjercicios}">
                                                            <f:selectItem itemLabel="---" itemValue="#{null}" noSelectionOption="true" />
                                                            <f:selectItems value="#{PlanDeEntrenamientoController.ejercicios}" var="e" itemLabel="#{e.nombreEjercicio}" itemValue="#{e.idEjercicios}" />
                                                        </h:selectOneMenu>
                                                        <p:message for="txtIdEjercicio_2"/>
                                                    </div>

                                                    <div class="form-group">
                                                        <label for="cc-payment" class="control-label mb-1" style="font-size: 20px; font-family: fantasy; color: #8e8e8e; "><i class="fa fa-gamepad" style="color: #8e8e8e;"/> Ejercicio 3</label> 
                                                        <h:selectOneMenu class="form-control" required="true" id="txtIdEjercicio_3" value="#{PlanDeEntrenamientoController.selected.idEjercicio3.idEjercicios}">
                                                            <f:selectItem itemLabel="---" itemValue="#{null}" noSelectionOption="true" />
                                                            <f:selectItems value="#{PlanDeEntrenamientoController.ejercicios}" var="e" itemLabel="#{e.nombreEjercicio}" itemValue="#{e.idEjercicios}" />
                                                        </h:selectOneMenu>
                                                        <p:message for="txtIdEjercicio_3"/>
                                                    </div>

                                                    <div class="form-group">
                                                        <label for="cc-payment" class="control-label mb-1" style="font-size: 20px; font-family: fantasy; color: #8e8e8e; "><i class="fa fa-gamepad" style="color: #8e8e8e; margin-bottom:20px;"/>  Ejercicio 4</label> 
                                                        <h:selectOneMenu class="form-control" required="true" id="txtIdEjercicio_4" value="#{PlanDeEntrenamientoController.selected.idEjercicio4.idEjercicios}">
                                                            <f:selectItem itemLabel="---" itemValue="#{null}" noSelectionOption="true" />
                                                            <f:selectItems value="#{PlanDeEntrenamientoController.ejercicios}" var="e" itemLabel="#{e.nombreEjercicio}" itemValue="#{e.idEjercicios}" />
                                                        </h:selectOneMenu>
                                                        <p:message for="txtIdEjercicio_4"/>
                                                    </div>

                                                    <div class="form-group">
                                                        <label for="cc-payment" class="control-label mb-1" style="font-size: 20px; font-family: fantasy; color: #8e8e8e; "><i class="fa fa-edit" style="color: #8e8e8e;"/> Recomendaciones</label>
                                                        <h:inputTextarea  class="form-control" id="txtRecomendation" value="#{PlanDeEntrenamientoController.selected.recomendaciones}" html5:placeholder="Recomendaciones"/>         
                                                        <p:message for="txtRecomendation"/>
                                                    </div>

                                                </h:panelGrid>  

                                                <p:separator></p:separator>
                                                <p:commandButton  value="Asignar" actionListener="#{PlanDeEntrenamientoController.registrar()}"  class="btn bg-blue btn-primary btn-block" update="pgDatos, mensaje" />
                                                <p:separator></p:separator>
                                                <div class="login-logo">
                                                    <li class="btn  btn-outline-primary" style="color: blue;"><i class="fa fa-pencil-square-o"></i><a href="../procesosformativos/crearplan.xhtml"> <b>Crear Nuevo plan de entrenamiento</b></a></li>
                                                </div>
                                            </h:form>


                                            <div class="modal fade" id="largeModal" tabindex="-1" role="dialog" aria-labelledby="largeModalLabel" aria-hidden="true">
                                                <div class="modal-dialog modal-lg" role="document">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title btn bg-blue btn-primary btn-block" id="largeModalLabel" style="text-align: center; font-size: 20px;">Deportistas</h5>
                                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                
                                                            </button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <h:form>
                                                                <table id="bootstrap-data-table" class="table table-striped table-bordered">
                                                                    <thead>
                                                                        <tr>
                                                                            <th>Documeno</th>                                                                                            
                                                                            <th>Nombre </th>
                                                                            <th>Apellidos</th>
                                                                            <th>Acciones</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>

                                                                        <c:forEach items="#{PlanDeEntrenamientoController.usuarios}" var="usu">
                                                                            <tr>
                                                                                <td>#{usu.codigo.documento}</td>
                                                                                <td>#{usu.codigo.nombre} </td>
                                                                                <td>#{usu.codigo.apellidos}</td>

                                                                                <td>

                                                                                    <h:commandButton action="#{PlanDeEntrenamientoController.selected.setIdDeportista(usu)}" class="btn btn-outline-success" value="Seleccionar"/>

                                                                                </td>
                                                                            </tr>
                                                                        </c:forEach>    



                                                                    </tbody>
                                                                </table>
                                                            </h:form>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-danger" data-dismiss="modal">Cancelar</button>                    
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>



                                            <div class="modal fade" id="largeModal2" tabindex="-1" role="dialog" aria-labelledby="largeModalLabel" aria-hidden="true">
                                                <div class="modal-dialog modal-lg" role="document2">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title btn bg-blue btn-primary btn-block" id="largeModalLabel2" style="text-align: center; font-size: 20px;">Entrenadores</h5>
                                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                               
                                                            </button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <h:form>
                                                                <table id="example" class="table table-striped table-bordered">
                                                                    <thead>
                                                                        <tr>
                                                                            <th>Documento</th>                                                                                            
                                                                            <th>Nombre </th>
                                                                            <th>Apellidos</th>
                                                                            <th>Acciones</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>

                                                                        <c:forEach items="#{PlanDeEntrenamientoController.entrenador}" var="usu">
                                                                            <tr>
                                                                                <td>#{usu.codigo.documento}</td>
                                                                                <td>#{usu.codigo.nombre} </td>
                                                                                <td>#{usu.codigo.apellidos}</td>

                                                                                <td>

                                                                                    <h:commandButton action="#{PlanDeEntrenamientoController.selected.setIdEntrenador(usu)}" class="btn btn-outline-success" value="Seleccionar"/>

                                                                                </td>
                                                                            </tr>
                                                                        </c:forEach>    



                                                                    </tbody>
                                                                </table>
                                                            </h:form>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-danger" data-dismiss="modal">Cancelar</button>                                                           
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>



                                        </div>
                                    </div>

                                </div>
                            </div> <!-- .card -->

                        </div><!--/.col-->


                    </div>


                </div><!-- .animated -->
                <!-- .animated -->
            </div>

        </ui:composition>


    </h:body>
</html>

